<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LPHONK Vocal Generator</title>
<link rel="stylesheet" href="style.css">
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
</head>
<body>

<!-- Hero / Landing -->
<header>
    <h1>LPHONK Vocal Generator</h1>
    <p class="hero-description">
        LPHONK lets you instantly generate Brazilian Funk vocals synced to your beats. Upload your tracks, choose a style, and create viral vocals without limits—all for free!
    </p>
    <div class="cta-buttons">
        <button class="cta-btn" onclick="showAuth('login')">Login</button>
        <button class="cta-btn" onclick="showAuth('signup')">Sign Up</button>
        <button class="cta-btn" onclick="openModal('aboutModal')">About</button>
    </div>
</header>

<!-- Auth Forms -->
<div class="auth-container" id="loginForm">
    <h2>Login</h2>
    <input type="email" id="loginEmail" placeholder="Email">
    <input type="password" id="loginPassword" placeholder="Password">
    <button onclick="login()">Login</button>
    <p class="auth-switch" onclick="showAuth('signup')">Don't have an account? Sign Up</p>
</div>

<div class="auth-container" id="signupForm">
    <h2>Sign Up</h2>
    <input type="email" id="signupEmail" placeholder="Email">
    <input type="password" id="signupPassword" placeholder="Password">
    <button onclick="signup()">Sign Up</button>
    <p class="auth-switch" onclick="showAuth('login')">Already have an account? Login</p>

    <div id="verificationMessage">
        <div>✔️</div>
        <h3>Account Created Successfully!</h3>
        <p>We have sent a verification email to <span id="userEmailDisplay"></span>. Look in your inbox, and if it’s not there, check your spam folder.</p>
        <p>Still not found? <button id="resendBtn" onclick="resendVerification()">Resend Email</button></p>
    </div>
</div>

<!-- Dashboard -->
<div class="dashboard" id="dashboard">
    <div class="dashboard-header">
        <h2>Welcome to LPHONK</h2>
        <div class="coins" onclick="toggleCoinsPopup()">
            <img src="assets/coin.png" alt="coin">
            <span id="coinCount">0</span>
            <button>+</button>
        </div>
        <button onclick="logout()">Logout</button>
    </div>
    <div class="upload-section">
        <label>Upload Beat (Instrumental)<input type="file" id="beatUpload" accept=".mp3,.wav"></label>
        <label>Upload Reference Vocal (Optional)<input type="file" id="refUpload" accept=".mp3,.wav"></label>
        <label>Select Vocal Style
            <select id="vocalStyle">
                <option value="montagem_rugada">Montagem Rugada</option>
                <option value="montagem_xonada">Montagem Xonada</option>
                <option value="veki_veki">Veki Veki</option>
                <option value="random">Random Viral Style</option>
            </select>
        </label>
        <button class="generate-btn" onclick="startGeneration()">
            <img src="assets/coin.png" alt="coin"> 5
        </button>
    </div>
    <div class="audio-preview">
        <audio controls id="audioPlayer" style="margin-top:1rem;width:100%;"></audio>
    </div>
    <canvas id="waveform"></canvas>
</div>

<!-- Coins Popup -->
<div id="coinsPopup">
    <h3>Get More Coins</h3>
    <button onclick="claimYouTube()">
        <img src="assets/youtube.png" alt="youtube"> +10 Coins
    </button>
    <button id="dailyBtn" onclick="claimDaily()">Daily +5 Coins</button>
    <input type="text" id="redeemCode" placeholder="Enter code">
    <button onclick="redeemCoins()">Redeem</button>
    <button onclick="closeCoinsPopup()">Close</button>
</div>

<!-- Footer -->
<footer>
    <p>&copy; 2025 LPHONK. All rights reserved.</p>
    <div>
        <a onclick="openModal('aboutModal')">About</a>
        <a onclick="openModal('contactModal')">Contact</a>
        <a onclick="openModal('privacyModal')">Privacy</a>
    </div>
</footer>

<!-- Modals -->
<div id="aboutModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal('aboutModal')">&times;</span>
        <h2>About LPHONK</h2>
        <p>LPHONK is a free AI platform for generating Brazilian Funk vocals synced to your beats. Upload your beats, optionally provide a reference track, and create viral Funk tracks instantly!</p>
    </div>
</div>

<div id="contactModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal('contactModal')">&times;</span>
        <h2>Contact Us</h2>
        <p>Email us at <strong>contact@lphonk.com</strong> for suggestions or support.</p>
    </div>
</div>

<div id="privacyModal" class="modal">
    <div class="modal-content">
        <span class="close-btn" onclick="closeModal('privacyModal')">&times;</span>
        <h2>Privacy Policy</h2>
        <p>We respect your privacy. Files uploaded are only processed to generate vocals and are not stored on our servers.</p>
    </div>
</div>

<script src="app.js"></script>
</body>
</html>
